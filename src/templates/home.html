<!DOCTYPE html>
<html>
  <head>
    <title>الآلي العجوز</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='main2.css') }}">
  </head>
  <body>
    <div class="container">
      <!--to centred add class "justify-content-center"-->
      <header class="col d-flex align-items-center">
        <img class="rounded-circle" src="{{ url_for('static', filename='logo.png') }}">
        <span class="mx-2 font-weight-bold">GrandPy Bot</span>
      </header>


      <section class="overflow-auto" id="conversation">


          <div class="message-body row justify-content-start">
            <div class="message-main">
              <div class="receiver">
                  بسم الله الرحمن الرحيم
              </div>
            </div>
          </div>

          <div class="message-body row justify-content-end">
            <div class="message-main">
              <div class="sender">
                  ذلك من فضل الله
              </div>
            </div>
          </div>



      </section>


      <footer class="d-flex align-items-center">
        <form class="form-inline w-100">
          <div class="col-10">
            <input class="form-control w-100" rows="1" id="comment"></input>
          </div>

          <div class="col-2">
            <button class="btn btn-primary w-100" type="submit" OnClick="message();return false">Send</button>
          </div>
        </form>
      </footer>

    </div>


    <!--<div id="map"></div>-->
    <script>
      // var map;
      // function initMap() {
      //   map = new google.maps.Map(document.getElementById('map'), {
      //     center: {lat: -34.397, lng: 150.644},
      //     zoom: 8
      //   });
      // }

    document.getElementById("comment").focus();



    function message(){
      var text = document.getElementById("comment").value;
      var conversationEl = document.getElementById("conversation");
      var messageEl = '<div class="message-body">\
                        <div class="message-main">\
                          <div class="sender">\
                             ' + text + '\
                          </div>\
                        </div>\
                      </div>';
      conversationEl.insertAdjacentHTML('beforeend', messageEl);



      replay("you ask about " + text + " city?");
      // replay(map(text));              // new msg with map
      gotoBottom("conversation");     // go to the new msg

      document.getElementById("comment").value = ""; // clear input user

    }

    function replay(content){
      var conversationEl = document.getElementById("conversation");
      var messageEl = '<div class="message-body col align-self-start">\
                        <div class="message-main">\
                          <div class="receiver">\
                             ' + content + '\
                          </div>\
                        </div>\
                      </div>';
      conversationEl.insertAdjacentHTML('beforeend', messageEl);
    }

    // function map(place){
    //   var messageEl = '<div class="mapouter">\
    //                     <div class="gmap_canvas" id="map">\
    //                       <iframe width="100%" height="300" id="gmap_canvas" frameborder="0"\
    //                       src="https://maps.google.com/maps?q=\
    //                       '+place+'\
    //                       &t=&z=6&ie=UTF8&iwloc=&output=embed"\
    //                       scrolling="no" marginheight="0" marginwidth="0"></iframe>\
    //                     </div>\
    //                   </div>';
    //   return messageEl;
    // }

    function gotoBottom(id){
       var element = document.getElementById(id);
       element.scrollTop = element.scrollHeight - element.clientHeight;
    }
    </script>
    <!--<script src="{{ url_for('static', filename='main2.js') }}"></script>-->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDil99B2i6eZEujkuL1ID5tP49yVcwq44w&callback=initMap"
    async defer></script>
  </body>
</html>